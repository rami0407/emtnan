<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุตูุญุฉ ุงูุงูุชูุงู</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <button class="icon-btn"><i class="fas fa-arrow-right"></i></button>
            <div class="header-profile">
                <!-- School Logo -->
                <img src="school-logo.png" alt="School Logo" style="background:#fff; padding:2px;">
            </div>
            <div class="header-info">
                <div class="header-title">ุตูุญุฉ ุงูุงูุชูุงู</div>
                <div class="header-status" id="msg-count">Online</div>
            </div>
            <div class="header-actions">
                <button class="icon-btn"><i class="fas fa-video"></i></button>
                <button class="icon-btn"><i class="fas fa-phone"></i></button>
                <button class="icon-btn" id="admin-toggle"><i class="fas fa-ellipsis-v"></i></button>
            </div>
        </header>

        <!-- Pinned Messages Area -->
        <div id="pinned-container" class="pinned-container" style="display:none;"></div>

        <!-- Messages Area -->
        <div class="chat-area" id="chat-area">
            <!-- Messages injected by JS -->
        </div>

        <!-- Input Footer -->
        <div class="input-footer">
            <button class="icon-btn" style="color: #667781;"><i class="fas fa-plus"></i></button>
            <div class="input-box" onclick="openCompose()">
                ุงูุชุจ ุฑุณุงูุฉ ุดูุฑ...
            </div>
            <div class="mic-btn" onclick="openCompose()">
                <i class="fas fa-microphone"></i>
            </div>
        </div>
    </div>

    <!-- Compose Modal -->
    <div class="modal-overlay" id="compose-modal">
        <div class="modal-content">
            <div class="modal-header">ุฑุณุงูุฉ ุดูุฑ ุฌุฏูุฏุฉ ๐</div>
            <form id="compose-form">
                <div class="form-group">
                    <label>ูู (ุงุฎุชูุงุฑู)</label>
                    <input type="text" id="sender" placeholder="ุงุณูู (ุทุงูุจ/ููู ุฃูุฑ)">
                </div>
                <div class="form-group">
                    <label>ุฅูู</label>
                    <input type="text" id="receiver" placeholder="ุงุณู ุงููุนูู/ุฉ ุฃู ุงูุดุฎุต ุงููุดููุฑ" required>
                </div>

                <!-- Message Body -->
                <div class="form-group">
                    <label>ุงูุฑุณุงูุฉ</label>
                    <textarea id="message-text" rows="3" placeholder="ุงูุชุจ ูููุงุชู ุงูุฌูููุฉ ููุง..."></textarea>
                </div>

                <!-- Voice Recorder -->
                <div class="form-group">
                    <label>ุฃู ุณุฌู ุฑุณุงูุฉ ุตูุชูุฉ ๐ค</label>
                    <div class="recorder-controls">
                        <button type="button" id="record-btn" class="record-btn" onclick="toggleRecording()">
                            <i class="fas fa-microphone"></i> ุชุณุฌูู
                        </button>
                        <span id="record-status" style="display:none; color:red; font-size:12px;">ุฌุงุฑู ุงูุชุณุฌูู...
                        </span>
                        <div id="audio-preview-container" style="display:none; margin-top:5px;">
                            <audio id="audio-preview" controls class="audio-player"></audio>
                            <button type="button" onclick="clearAudio()"
                                style="color:red; background:none; border:none; cursor:pointer;">โ ุญุฐู</button>
                        </div>
                    </div>
                </div>

                <div style="display:flex; justify-content:space-between; margin-top:10px;">
                    <button type="button" class="cancel-btn" onclick="closeCompose()">ุฅูุบุงุก</button>
                    <button type="submit" class="primary-btn">ุฅุฑุณุงู ูููุฏูุฑ</button>
                </div>
            </form>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>

</html>